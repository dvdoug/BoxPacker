checks:
  php: true

filter:
  excluded_paths:
    - 'features/'
    - 'tests/'

build:
  environment:
    # Languages
    php:
      version: "7.1"

build:
  nodes:
    analysis:
      project_setup:
        override: true
      tests:
        override: [php-scrutinizer-run]

  tests:
    override:
      -
        command: 'vendor/bin/phpunit --coverage-clover=build/phpunit.clover --exclude-group efficiency'
        coverage:
          file: 'build/phpunit.clover'
          format: 'clover'
      -
        command: 'vendor/bin/behat'
        coverage:
          file: 'build/behat.clover'
          format: 'clover'
